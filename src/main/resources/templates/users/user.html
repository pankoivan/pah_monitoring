<!DOCTYPE html>

<html lang="ru" xmlns:th="https://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title th:text="${user.userInformation.fullName}">Пользователь</title>
        <link href="../../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
        <link href="../../static/css/style.css" th:href="@{/css/style.css}" rel="stylesheet" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../static/favicon/apple-touch-icon.png" th:href="@{/favicon/apple-touch-icon.png}" />
        <link rel="icon" type="image/png" sizes="32x32" href="../../static/favicon/favicon-32x32.png" th:href="@{/favicon/favicon-32x32.png}" />
        <link rel="icon" type="image/png" sizes="16x16" href="../../static/favicon/favicon-16x16.png" th:href="@{/favicon/favicon-16x16.png}" />
    </head>

    <body class="min-vh-100 d-flex flex-column align-items-center justify-content-between bg-main">
        <!---->
        <div th:replace="~{@{${headerPath}} :: ${headerName}}"></div>
        <!---->
        <div class="container text-secondary my-5">
            <!---->
            <div class="row">
                <div class="col-12">
                    <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between text-center">
                        <h1 class="fs-3 m-2 m-md-0">
                            <span th:text="${user.userInformation.fullName}">Казимиров Иван Петрович</span>
                            <a th:if="${isMessageEnabled}" href="#" th:href="@{/messages/__${user.userInformation.id}__}" class="text-decoration-none">
                                <img width="24" src="../../static/svg/message.svg" th:src="@{/svg/message.svg}" alt="Сообщение" />
                            </a>
                        </h1>
                        <h2 th:text="${user.role.alias}" class="fs-4 m-2 m-md-0">Врач</h2>
                    </div>
                </div>
            </div>
            <hr class="my-5" />
            <!---->
            <div class="row mb-5" th:if="${isHospitalUser}">
                <div class="col-12">
                    <h3 class="fs-4">Медицинское учреждение</h3>
                    <p class="word-wrap mb-0">
                        <a href="#" th:href="@{/hospitals/__${user.hospital.id}__}" th:text="${user.hospital.name}" class="text-secondary">Национальный медицинский исследовательский центр имени В. А. Алмазова</a>
                    </p>
                </div>
            </div>
            <!---->
            <div class="row mb-5" th:if="${isHospitalEmployee}">
                <div class="col-12">
                    <h3 class="fs-4">
                        Рабочая информация
                        <a href="#" th:if="${isNonLoginInfoEditingEnabled}" class="text-decoration-none">
                            <img width="20" src="../../static/svg/edit.svg" th:src="@{/svg/edit.svg}" alt="Редактировать" />
                        </a>
                    </h3>
                    <p class="mb-0">Должность: <span th:text="${user.employeeInformation.post}" class="text-lowercase">Врач-кардиолог 3-го ранга</span></p>
                </div>
            </div>
            <!---->
            <div class="row mb-5">
                <div class="col-12">
                    <h3 class="fs-4">
                        Общая информация
                        <a href="#" th:if="${isNonLoginInfoEditingEnabled}" class="text-decoration-none">
                            <img width="20" src="../../static/svg/edit.svg" th:src="@{/svg/edit.svg}" alt="Редактировать" />
                        </a>
                    </h3>
                    <p class="mb-1" th:text="'ФИО: ' + ${user.userInformation.fullName}">ФИО: Иванов Казимир Петрович</p>
                    <p th:text="'Телефон: ' + ${user.userInformation.phoneNumber}" th:classappend="${user.userInformation.gender == null && user.userInformation.birthdate == null} ? 'mb-0' : 'mb-1'">Телефон: +7 (121) 916-09-91</p>
                    <p th:if="${user.userInformation.gender != null}" th:classappend="${user.userInformation.birthdate == null} ? 'mb-0' : 'mb-1'">Пол: <span th:text="${user.userInformation.gender.alias}" class="text-lowercase"></span></p>
                    <p class="mb-0" th:if="${user.userInformation.birthdate != null}" th:text="'Дата рождения: ' + ${user.userInformation.formattedBirthdate}">Дата рождения: 18-01-1981</p>
                </div>
            </div>
            <!---->
            <div class="row mb-5" th:if="${isSelf}">
                <div class="col-12">
                    <h3 class="fs-4">
                        Логин-информация
                        <a href="#" class="text-decoration-none">
                            <img width="20" src="../../static/svg/edit.svg" th:src="@{/svg/edit.svg}" alt="Редактировать" />
                        </a>
                    </h3>
                    <p class="mb-1" th:text="'Почта: ' + ${user.userSecurityInformation.email}">Почта: some@exampleMail</p>
                    <p class="mb-0">Пароль: ••••••••••••</p>
                </div>
            </div>
            <!---->
            <div class="row" th:classappend="${isDoctor || isPatient} ? 'mb-5'">
                <div class="col-12">
                    <h3 class="fs-4">
                        Активность
                        <a th:if="${isActivityEditingEnabled}" href="#" class="text-decoration-none">
                            <img width="20" src="../../static/svg/edit.svg" th:src="@{/svg/edit.svg}" alt="Редактировать" />
                        </a>
                    </h3>
                    <p class="text-success mb-0">Активен</p>
                </div>
            </div>
            <!---->
            <div class="row" th:if="${isDoctor}">
                <div class="col-12">
                    <h3 class="fs-4">Пациенты</h3>
                    <p th:if="${!user.patients.empty}" class="mb-1">
                        <span th:if="${isSelf}">Сейчас за вами закреплено пациентов: </span>
                        <span th:if="${!isSelf}">Сейчас за этим врачом закреплено пациентов: </span>
                        <span th:text="${user.patientsCount}">5</span>
                    </p>
                    <p th:if="${!user.patients.empty}" class="mb-0">
                        <a href="#" th:href="@{/doctors/__${user.id}__/patients}" class="text-secondary">Перейти к списку пациентов</a>
                    </p>
                    <p th:if="${user.patients.empty}" class="text-danger mb-0">
                        <span th:if="${isSelf}">Сейчас у вас нет никаких пациентов</span>
                        <span th:if="${!isSelf}">Сейчас у этого врача нет никаких пациентов</span>
                    </p>
                </div>
            </div>
            <!---->
            <div class="row mb-5" th:if="${isPatient}">
                <div class="col-12">
                    <h3 class="fs-4">
                        Лечащий врач
                        <a id="doctor-editing" th:if="${isCurrentUserAdminFromSameHospital}" href="#" class="text-decoration-none">
                            <img width="20" src="../../static/svg/edit.svg" th:src="@{/svg/edit.svg}" alt="Редактировать" />
                        </a>
                    </h3>
                    <p th:if="${user.doctor != null}" class="mb-0">
                        <a href="#" th:href="@{/doctors/__${user.doctor.id}__}" th:text="${user.doctor.userInformation.fullName}" class="text-secondary">Дачников Пётр Аркадьевич</a>
                        <span th:if="${isCurrentUserOwnDoctor}" class="fst-italic">(вы)</span>
                    </p>
                    <p th:if="${user.doctor == null}" class="text-danger mb-0">
                        <span th:if="${isSelf}">Сейчас вы не закреплены ни за одним врачом</span>
                        <span th:if="${!isSelf}">Сейчас этот пациент не закреплён ни за одним врачом</span>
                    </p>
                </div>
            </div>
            <!---->
            <div class="row mb-5" th:if="${isPatient && isCurrentUserOwnDoctor}">
                <div class="col-12">
                    <h3 class="fs-4">Ход лечения</h3>
                    <p class="mb-0"><a href="#" th:href="@{/patients/__${user.id}__/indicators}" class="text-secondary">Перейти к навигации по показателям пациента</a></p>
                </div>
            </div>
            <!---->
            <div class="row" th:if="${isPatient}">
                <div class="col-12">
                    <h3 class="fs-4">
                        Награды
                        <a href="#" th:href="@{/achievements}" class="text-decoration-none">
                            <img width="20" src="../../static/svg/info.svg" th:src="@{/svg/info.svg}" alt="Информация" />
                        </a>
                    </h3>
                    <p class="mb-1">
                        Всего наград:
                        <span th:text="${user.achievementsCount}">12</span>
                    </p>
                    <p class="mb-0"><a href="#" th:href="@{/patients/__${user.id}__/achievements}" class="text-secondary">Перейти к наградам</a></p>
                </div>
            </div>
            <!---->
        </div>
        <!---->
        <div class="modal fade" id="user-info-editing-modal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4" id="user-info-editing-modal-title">Редактирование общей информации</h1>
                        <button id="user-info-editing-modal-close-1" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body fs-5" id="user-info-editing-modal-text">
                        <form id="schedule-editing-form" action="#" class="border rounded text-secondary fs-5 p-3">
                            <div class="mb-3">
                                <label for="lastname" class="form-label">Фамилия</label>
                                <input type="text" name="lastname" id="lastname" class="form-control" placeholder="Иванов" />
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Имя</label>
                                <input type="text" name="name" id="name" class="form-control" placeholder="Иван" />
                            </div>
                            <div class="mb-3">
                                <label for="patronymic" class="form-label">Отчество</label>
                                <input type="text" name="patronymic" id="patronymic" class="form-control" placeholder="Иванович" />
                            </div>
                            <div class="mb-3">
                                <label for="phone-number" class="form-label">Номер телефона</label>
                                <input type="text" name="phoneNumber" id="phone-number" class="form-control" placeholder="89212345901" />
                            </div>
                            <div class="mb-3">
                                <p class="form-label">Пол</p>
                                <div class="form-check" th:each="each, status : ${genders}" id="gender">
                                    <div>
                                        <label class="form-check-label" th:for="'gender-radio-' + ${status.index}"></label>
                                        <input th:id="'gender-radio-' + ${status.index}" type="radio" class="form-check-input" th:text="${each.alias}" th:value="${each}" name="gender" />
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label for="birthdate" class="form-label">Дата рождения</label>
                                <input type="date" name="birthdate" id="birthdate" class="form-control" />
                            </div>
                            <button type="submit" class="btn btn-primary mb-2">Сохранить изменения</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id="user-info-editing-modal-close-2" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                    </div>
                </div>
            </div>
        </div>
        <!---->
        <div class="modal fade" id="employee-info-editing-modal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4" id="employee-info-editing-modal-title">Редактирование рабочей информации</h1>
                        <button id="employee-info-editing-modal-close-1" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body fs-5" id="employee-info-editing-modal-text">
                        <form id="schedule-editing-form" action="#" class="border rounded text-secondary fs-5 p-3">
                            <div class="mb-4">
                                <label for="post" class="form-label">Должность</label>
                                <input type="text" name="post" id="post" class="form-control" placeholder="Секретарь" />
                            </div>
                            <button type="submit" class="btn btn-primary mb-2">Сохранить изменения</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id="employee-info-editing-modal-close-2" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                    </div>
                </div>
            </div>
        </div>
        <!---->
        <div class="modal fade" id="login-info-editing-modal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4" id="login-info-editing-modal-title">Редактирование логин-информации</h1>
                        <button id="login-info-editing-modal-close-1" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body fs-5" id="login-info-editing-modal-text">
                        <form id="schedule-editing-form" action="#" class="border rounded text-secondary fs-5 p-3">
                            <div class="mb-3">
                                <label for="email" class="form-label">Почта</label>
                                <input type="email" name="email" id="email" class="form-control" placeholder="example@mail.com" />
                            </div>
                            <div class="d-flex flex-row align-items-center justify-content-between mb-3">
                                <p class="mb-0">Изменить пароль?</p>
                                <div>
                                    <label for="change-password" class="form-check-label"> Да </label>
                                    <input type="checkbox" name="change-password" id="change-password" class="form-check-input" />
                                </div>
                            </div>
                            <div id="password-block" class="visually-hidden mb-4">
                                <label for="password" class="form-label">Пароль</label>
                                <input type="password" name="password" id="password" class="form-control" placeholder="@strong!Password123@" />
                            </div>
                            <button type="submit" class="btn btn-primary mb-2">Сохранить изменения</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id="login-info-editing-modal-close-2" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                    </div>
                </div>
            </div>
        </div>
        <!---->
        <div class="modal fade" id="vacation-modal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4" id="vacation-modal-title">Назначение отпуска</h1>
                        <button id="vacation-modal-close-1" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body fs-5" id="vacation-modal-text">
                        <form id="schedule-editing-form" action="#" class="border rounded text-secondary fs-5 p-3">
                            <div class="mb-3">
                                <label for="vacation-employee" class="form-label">Сотрудник</label>
                                <input type="text" name="vacation-employee" id="vacation-employee" class="form-control" disabled />
                            </div>
                            <div class="mb-3">
                                <label for="vacation-start-date" class="form-label">Дата начала</label>
                                <input type="date" name="vacation-start-date" id="vacation-start-date" class="form-control" />
                            </div>
                            <div class="mb-3">
                                <label for="vacation-end-date" class="form-label">Дата окончания</label>
                                <input type="date" name="vacation-end-date" id="vacation-end-date" class="form-control" />
                            </div>
                            <div class="mb-4">
                                <label for="vacation-comment" class="form-label">Комментарий</label>
                                <textarea name="vacation-comment" id="vacation-comment" class="form-control" rows="3" placeholder="Можете написать здесь какой-нибудь небольшой комментарий по поводу назначаемого отпуска"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary mb-2">Отправить</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id="vacation-modal-close-2" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                    </div>
                </div>
            </div>
        </div>
        <!---->
        <div class="modal fade" id="sick-leave-modal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4" id="sick-leave-modal-title">Назначение больничного</h1>
                        <button id="sick-leave-modal-close-1" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body fs-5" id="sick-leave-modal-text">
                        <form id="schedule-editing-form" action="#" class="border rounded text-secondary fs-5 p-3">
                            <div class="mb-3">
                                <label for="sick-leave-employee" class="form-label">Сотрудник</label>
                                <input type="text" name="sick-leave-employee" id="sick-leave-employee" class="form-control" disabled />
                            </div>
                            <div class="mb-3">
                                <label for="sick-leave-start-date" class="form-label">Дата начала</label>
                                <input type="date" name="sick-leave-start-date" id="sick-leave-start-date" class="form-control" />
                            </div>
                            <div class="mb-3">
                                <label for="sick-leave-end-date" class="form-label">Дата окончания</label>
                                <input type="date" name="sick-leave-end-date" id="sick-leave-end-date" class="form-control" />
                            </div>
                            <div class="mb-4">
                                <label for="sick-leave-comment" class="form-label">Комментарий</label>
                                <textarea name="sick-leave-comment" id="sick-leave-comment" class="form-control" rows="3" placeholder="Можете написать здесь какой-нибудь небольшой комментарий по поводу назначаемого больничного"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary mb-2">Отправить</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id="sick-leave-modal-close-2" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                    </div>
                </div>
            </div>
        </div>
        <!---->
        <div class="modal fade" id="dismissal-modal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4" id="dismissal-modal-title">Увольнение</h1>
                        <button id="dismissal-modal-close-1" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body fs-5" id="dismissal-modal-text">
                        <form id="schedule-editing-form" action="#" class="border rounded text-secondary fs-5 p-3">
                            <div class="mb-3">
                                <label for="dismissal-employee" class="form-label">Сотрудник</label>
                                <input type="text" name="dismissal-employee" id="dismissal-employee" class="form-control" disabled />
                            </div>
                            <div class="mb-4">
                                <label for="dismissal-comment" class="form-label">Комментарий</label>
                                <textarea name="dismissal-comment" id="dismissal-comment" class="form-control" rows="3" placeholder="Можете написать здесь какой-нибудь небольшой комментарий по поводу увольнения"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary mb-2">Отправить</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id="dismissal-modal-close-2" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                    </div>
                </div>
            </div>
        </div>
        <!---->
        <div class="modal fade" id="patient-inactivity-modal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4" id="patient-inactivity-modal-title">Не знаю как назвать</h1>
                        <button id="patient-inactivity-modal-close-1" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body fs-5" id="patient-inactivity-modal-text">
                        <form id="schedule-editing-form" action="#" class="border rounded text-secondary fs-5 p-3">
                            <div class="mb-3">
                                <label for="patient-inactivity-patient" class="form-label">Пациент</label>
                                <input type="text" name="patient-inactivity-patient" id="patient-inactivity-patient" class="form-control" disabled />
                            </div>
                            <div class="mb-4">
                                <label for="patient-inactivity-comment" class="form-label">Комментарий</label>
                                <textarea name="patient-inactivity-comment" id="patient-inactivity-comment" class="form-control" rows="3" placeholder="Можете написать здесь какой-нибудь небольшой комментарий по поводу не знаю как назвать"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary mb-2">Отправить</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button id="patient-inactivity-modal-close-2" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                    </div>
                </div>
            </div>
        </div>
        <!---->
        <button type="button" data-bs-toggle="modal" data-bs-target="#user-info-editing-modal">Редактирование общей информации</button>
        <button type="button" data-bs-toggle="modal" data-bs-target="#employee-info-editing-modal">Редактирование рабочей информации</button>
        <button type="button" data-bs-toggle="modal" data-bs-target="#login-info-editing-modal">Редактирование логин-информации</button>
        <button type="button" data-bs-toggle="modal" data-bs-target="#vacation-modal">Назначение отпуска</button>
        <button type="button" data-bs-toggle="modal" data-bs-target="#sick-leave-modal">Назначение больничного</button>
        <button type="button" data-bs-toggle="modal" data-bs-target="#dismissal-modal">Назначение увольнения</button>
        <button type="button" data-bs-toggle="modal" data-bs-target="#patient-inactivity-modal">Назначение неактивности</button>
        <!---->
        <div th:replace="~{/fragments/modal/error-modal :: error-modal}"></div>
        <div th:replace="~{/fragments/modal/success-modal :: success-modal}"></div>
        <div th:replace="~{/fragments/footers/footer :: footer}"></div>
        <!---->
        <script src="../../static/js/users/user.js" th:src="@{/js/users/user.js}"></script>
        <script src="../../static/js/bootstrap/bootstrap.bundle.min.js" th:src="@{/js/bootstrap/bootstrap.bundle.min.js}"></script>
    </body>
</html>
